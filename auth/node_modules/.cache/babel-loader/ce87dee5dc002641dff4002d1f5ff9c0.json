{"ast":null,"code":"import axios from 'axios';\nimport { USER_LIST_LOADED, USER_LIST_LOADING, USER_LIST_LOAD_ERROR } from './types';\nconst api = axios.create({\n  baseURL: `http://localhost:8000`\n});\nexport const loadUserList = () => (dispatch, getState) => {\n  dispatch({\n    type: USER_LIST_LOADING\n  });\n  api.get(`/admin/users/list`, tokenConfig(getState)).then(res => {\n    dispatch({\n      type: USER_LIST_LOADED,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: USER_LIST_LOAD_ERROR,\n      payload: err\n    });\n  });\n}; // Setup config with token - helper function\n\nexport const tokenConfig = getState => {\n  const token = getState().auth.token;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  if (token) {\n    config.headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  return config;\n};","map":{"version":3,"sources":["/Users/joan/Documents/Louji/Project/Books/AuthBook/auth/src/Store/Action/user.js"],"names":["axios","USER_LIST_LOADED","USER_LIST_LOADING","USER_LIST_LOAD_ERROR","api","create","baseURL","loadUserList","dispatch","getState","type","get","tokenConfig","then","res","payload","data","catch","err","token","auth","config","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,gBADF,EAEEC,iBAFF,EAGEC,oBAHF,QAIO,SAJP;AAOA,MAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAG;AADa,CAAb,CAAZ;AAIA,OAAO,MAAMC,YAAY,GAAG,MAAM,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACxDD,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAER;AAAR,GAAD,CAAR;AACAE,EAAAA,GAAG,CACAO,GADH,CACQ,mBADR,EAC4BC,WAAW,CAACH,QAAD,CADvC,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbN,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAET,gBADC;AAEPc,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAID,GAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;AACZV,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEP,oBADD;AAELY,MAAAA,OAAO,EAAEG;AAFJ,KAAD,CAAR;AAIH,GAbH;AAcD,CAhBM,C,CAmBP;;AACA,OAAO,MAAMN,WAAW,GAAIH,QAAD,IAAc;AACvC,QAAMU,KAAK,GAAGV,QAAQ,GAAGW,IAAX,CAAgBD,KAA9B;AACA,QAAME,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADI,GAAf;;AAMA,MAAIH,KAAJ,EAAW;AACTE,IAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,IAAmC,UAASH,KAAM,EAAlD;AACD;;AAED,SAAOE,MAAP;AACD,CAbM","sourcesContent":["import axios from 'axios';\nimport {\n  USER_LIST_LOADED,\n  USER_LIST_LOADING,\n  USER_LIST_LOAD_ERROR\n} from './types';\n\n\nconst api = axios.create({\n  baseURL: `http://localhost:8000`\n})\n\nexport const loadUserList = () => (dispatch, getState) => {\n  dispatch({ type: USER_LIST_LOADING });\n  api\n    .get(`/admin/users/list`, tokenConfig(getState))\n    .then((res) => {\n      dispatch({\n        type: USER_LIST_LOADED,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n        dispatch({\n            type: USER_LIST_LOAD_ERROR,\n            payload: err\n          })\n    });\n};\n\n\n// Setup config with token - helper function\nexport const tokenConfig = (getState) => {\n  const token = getState().auth.token;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n\n  if (token) {\n    config.headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  return config;\n};"]},"metadata":{},"sourceType":"module"}