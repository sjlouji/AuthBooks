{"ast":null,"code":"var _jsxFileName = \"/Users/joan/Documents/Louji/Project/Books/AuthBook/auth/src/Pages/Dashboard/Home.js\";\nimport React, { Component, Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport { renderRoutes } from 'react-router-config';\nimport AppsIcon from '@material-ui/icons/Apps';\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport { withRouter } from 'react-router';\nimport { logout } from '../../Store/Action/auth';\nimport PrivateRoute from '../../Route/PrivateRoute';\nimport { createBrowserHistory } from 'history';\nimport Sidebar from '../../Components/Sidebar/Sidebar';\nimport Appbar from '../../Components/Appbar/Appbar';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\nimport BlockIcon from '@material-ui/icons/Block';\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\nimport LocalActivityIcon from '@material-ui/icons/LocalActivity';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst history = createBrowserHistory();\nexport class HomePage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sidebarItem: [{\n        id: 'Auth',\n        data: [{\n          id: 'Users',\n          icon: /*#__PURE__*/_jsxDEV(PeopleOutlineIcon, {\n            style: {\n              fontSize: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 38\n          }, this),\n          to: '/',\n          isActive: true\n        }, {\n          id: 'Black List',\n          icon: /*#__PURE__*/_jsxDEV(BlockIcon, {\n            style: {\n              fontSize: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 43\n          }, this),\n          to: '/blacklist',\n          isActive: false\n        }, {\n          id: 'Permissions',\n          icon: /*#__PURE__*/_jsxDEV(VerifiedUserIcon, {\n            style: {\n              fontSize: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 44\n          }, this),\n          to: '/permissions',\n          isActive: false\n        }, {\n          id: 'Activity Monitoring',\n          icon: /*#__PURE__*/_jsxDEV(InboxIcon, {\n            style: {\n              fontSize: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 52\n          }, this),\n          to: '/logs',\n          isActive: false\n        }]\n      }, {\n        id: 'Sso',\n        data: [{\n          id: 'SSO Users',\n          icon: /*#__PURE__*/_jsxDEV(SupervisedUserCircleIcon, {\n            style: {\n              fontSize: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 42\n          }, this),\n          to: '/sso/users',\n          isActive: false\n        }, {\n          id: 'SSO User Activity',\n          icon: /*#__PURE__*/_jsxDEV(LocalActivityIcon, {\n            style: {\n              fontSize: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 50\n          }, this),\n          to: '/sso/logs',\n          isActive: false\n        }]\n      }],\n      appbarMenu: [{\n        id: 'My Account',\n        icon: /*#__PURE__*/_jsxDEV(SupervisorAccountIcon, {\n          style: {\n            fontSize: '20px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 39\n        }, this),\n        to: '/profile'\n      }, {\n        id: 'Logout',\n        icon: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {\n          style: {\n            fontSize: '20px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 35\n        }, this),\n        to: '/'\n      }],\n      user: null\n    };\n  }\n\n  // Excecuted when component recieves new props\n  componentWillReceiveProps(nextProps) {\n    this.setDrawerState(nextProps);\n    this.updateUser(nextProps.user);\n  } // Excecuted when the component loads first time\n\n\n  componentDidMount() {\n    this.checkAuth();\n    this.updateUser(this.props.user);\n    this.setDrawerState(this.props);\n  } // Redirect to login page\n\n\n  checkAuth() {\n    if (!this.props.isAuthenticated) {\n      this.props.history.push('/auth/login');\n    }\n  } // Updates the drawer state\n\n\n  setDrawerState(props) {\n    this.setState({\n      sidebarItem: this.state.sidebarItem.map((el, index) => {\n        el.data.map(val => {\n          if (props.location.pathname === val.to) val.isActive = true;else val.isActive = false;\n          return val;\n        });\n        return el;\n      })\n    });\n  } // Update User Data\n\n\n  updateUser(props) {\n    console.log(props);\n\n    if (props.user) {\n      this.setState({\n        user: props.user\n      });\n    }\n  }\n\n  render() {\n    this.checkAuth();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Appbar, {\n        username: this.state.user ? this.state.user.firstName : '',\n        email: this.state.user ? this.state.user.email : '',\n        item: this.state.appbarMenu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n        item: this.state.sidebarItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        style: {\n          padding: '100px',\n          marginLeft: '170px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Suspense, {\n          fallback: \"Loading\",\n          children: renderRoutes(this.props.route.routes)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps, {\n  logout\n})(withRouter(HomePage));","map":{"version":3,"sources":["/Users/joan/Documents/Louji/Project/Books/AuthBook/auth/src/Pages/Dashboard/Home.js"],"names":["React","Component","Suspense","connect","renderRoutes","AppsIcon","MenuBookIcon","withRouter","logout","PrivateRoute","createBrowserHistory","Sidebar","Appbar","InboxIcon","PeopleOutlineIcon","BlockIcon","VerifiedUserIcon","SupervisedUserCircleIcon","LocalActivityIcon","SupervisorAccountIcon","ExitToAppIcon","history","HomePage","state","sidebarItem","id","data","icon","fontSize","to","isActive","appbarMenu","user","componentWillReceiveProps","nextProps","setDrawerState","updateUser","componentDidMount","checkAuth","props","isAuthenticated","push","setState","map","el","index","val","location","pathname","console","log","render","firstName","email","padding","marginLeft","route","routes","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component,Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport { renderRoutes } from 'react-router-config';\nimport AppsIcon from '@material-ui/icons/Apps';\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport {withRouter} from 'react-router'\nimport { logout } from '../../Store/Action/auth'\nimport  PrivateRoute  from '../../Route/PrivateRoute';\nimport { createBrowserHistory } from 'history';\nimport Sidebar from '../../Components/Sidebar/Sidebar'\nimport Appbar from '../../Components/Appbar/Appbar'\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport PeopleOutlineIcon from '@material-ui/icons/PeopleOutline';\nimport BlockIcon from '@material-ui/icons/Block';\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\nimport LocalActivityIcon from '@material-ui/icons/LocalActivity';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nconst history = createBrowserHistory();\nexport class HomePage extends Component {\n    // State\n    state = {\n        sidebarItem: [\n          {\n              id: 'Auth',\n              data: [\n                { id: 'Users', icon: <PeopleOutlineIcon style={{ fontSize: '20px' }}/> ,to: '/', isActive: true },\n                { id: 'Black List', icon: <BlockIcon style={{ fontSize: '20px' }}/> ,to: '/blacklist', isActive: false},\n                { id: 'Permissions', icon: <VerifiedUserIcon style={{ fontSize: '20px' }}/> ,to: '/permissions', isActive: false},\n                { id: 'Activity Monitoring', icon: <InboxIcon style={{ fontSize: '20px' }}/> ,to: '/logs', isActive: false},\n            ]\n          },\n          {\n              id: 'Sso',\n              data: [\n                { id: 'SSO Users', icon: <SupervisedUserCircleIcon style={{ fontSize: '20px' }}/> ,to: '/sso/users', isActive: false},\n                { id: 'SSO User Activity', icon: <LocalActivityIcon style={{ fontSize: '20px' }}/> ,to: '/sso/logs', isActive: false},\n            ]              \n          }\n        ],\n        appbarMenu: [\n            { id: 'My Account', icon: <SupervisorAccountIcon style={{ fontSize: '20px' }}/> ,to: '/profile' },\n            { id: 'Logout', icon: <ExitToAppIcon style={{ fontSize: '20px' }}/> ,to: '/' },\n        ],\n        user: null,\n    }\n\n    // Excecuted when component recieves new props\n    componentWillReceiveProps(nextProps) {\n        this.setDrawerState(nextProps)\n        this.updateUser(nextProps.user);\n    }\n\n    // Excecuted when the component loads first time\n    componentDidMount() {\n        this.checkAuth();   \n        this.updateUser(this.props.user);\n        this.setDrawerState(this.props); \n    }\n\n    // Redirect to login page\n    checkAuth(){\n        if(!this.props.isAuthenticated) {\n            this.props.history.push('/auth/login')\n        }\n    }\n\n    // Updates the drawer state\n    setDrawerState(props) {\n        this.setState({ sidebarItem:  this.state.sidebarItem.map((el, index)=> {\n            el.data.map((val) => {\n                if (props.location.pathname === val.to) val.isActive = true\n                else val.isActive = false\n                return val;\n            })\n            return el;\n        })})\n    }\n\n    // Update User Data\n    updateUser(props) {\n        console.log(props)\n        if(props.user) {\n            this.setState({\n                user: props.user,\n            })\n        }\n    }\n\n    render() {\n        this.checkAuth()\n        return(\n            <div>\n                {/* Appbar */}\n                <Appbar\n                    username={this.state.user ? this.state.user.firstName : ''}\n                    email={this.state.user ? this.state.user.email : ''}\n                    item={this.state.appbarMenu}\n                />\n                {/* Sidebar */}\n                <Sidebar \n                    item={this.state.sidebarItem} />\n                {/* Content */}\n                <main style={{ padding: '100px', marginLeft: '170px'}}>\n                    <Suspense fallback='Loading'>\n                        {renderRoutes(this.props.route.routes)}\n                    </Suspense>\n                </main>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    user: state.auth.user\n  });\n\nexport default connect(mapStateToProps, {logout})(withRouter(HomePage));"]},"metadata":{},"sourceType":"module"}